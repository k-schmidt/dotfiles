# --- Core Settings ---
# Remap prefix to Ctrl-a (easier to reach than Ctrl-b)
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# Enable mouse mode
set -g mouse on

# Increase scrollback buffer size (essential for long verbose logs)
set -g history-limit 50000

# Reduce escape delay
set -sg escape-time 0

# Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 1

# --- AI/Data Science Workflow Bindings ---
# Split panes using | and - (easier visualization)
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# Reload config quickly
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# --- Plugins ---
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

# 1. Persistence: Saves your sessions automatically.
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'

# 2. System Monitoring (CPU & RAM)
set -g @plugin 'tmux-plugins/tmux-cpu'

# 3. GPU monitoring
set -g @plugin 'dnlbauer/tmux-plugin-simple-gpu'

# --- Status Bar Configuration ---
set -g status-interval 2
set -g status-left "#[fg=green]Session: #S #[fg=yellow]#I #[fg=cyan]#P"
set -g status-left-length 50

# RIGHT SIDE: The AI Dashboard
# Shows: CPU Usage | RAM Usage | GPU Usage (requires setup below) | Date
set -g status-right '#{cpu_bg_color} CPU: #{cpu_percentage} | GPU: #{gpu} | RAM: #{ram_percentage} | %H:%M '

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
